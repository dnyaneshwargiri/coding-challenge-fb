datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Questionnaire {
  id    Int    @id
  title String
  pages Page[]
}

model Page {
  id              Int           @id
  title           String
  questionnaireId Int
  questionnaire   Questionnaire @relation(fields: [questionnaireId], references: [id])
  inputs          Input[]
}

model Input {
  id                  Int      @id
  type                String
  label               String
  name                String
  required            Boolean?
  options             String[]
  recommendationValue String?
  pageId              Int
  page                Page     @relation(fields: [pageId], references: [id])
}

model ButtonInput {
  id     Int    @id
  type   String
  label  String
  action String
  pageId Int
}

model ConditionalNavigation {
  id           Int  @id
  targetPageId Int
  pageId       Int
  conditions   Json
}

model ConditionalCheck {
  id             Int     @id
  type           String?
  sourceQuestion String
  requiredValue  String?
  pageId         Int
}
